<script type="text/javascript">

  // small function to allow to scroll to an element on the page
  //
  // example:  $('some-div').scrollToMe();  
  //
  jQuery.fn.extend({
    scrollToMe: function () {
    var x = jQuery(this).offset().top - 100;
    jQuery('html,body').animate({scrollTop: x}, 500);
  }});
  



  // accordion
  $(function() {
    $('#st-accordion').accordion();
  });



$(window).load(function(){
   // $(groupOfItems).fitHeights(); 
   $('.related-content ul li').fitHeights();
});

$(document).ready(function(){


 // show/hide the relevant show more/less buttons
  $(".expanded-content").hide();
  $(".show-more").show();
  
  // handle "Show More" button click
  $(".show-more").click(function(e){
      e.preventDefault();  
      
      var _clicked = $(this);
    
      /*if ( $(".hide-content").length > 0 ) {
          // close all other currently expanded blocks
          $(".expanded-content").each(function() {
            $(this).hide();
          });   
      }*/
    
      var parent = _clicked.closest(".expandable-content-block"); 
      $(".expanded-content",parent).slideDown(); 
      _clicked.hide();
      });

      // handle "Show Less" button click
      $(".hide-content").click(function(e){
      e.preventDefault();  
      
      var _clicked = $(this);
      var parent = _clicked.closest(".expandable-content-block"); 
      $(".expanded-content",parent).hide();
      $(parent).find(".show-more").show();
      parent.scrollToMe(); // make sure the that page scrolls back after hiding the expanded content
      });

      
      


  });

</script>