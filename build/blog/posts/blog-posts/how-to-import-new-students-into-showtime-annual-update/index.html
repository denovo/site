<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><link rel="icon" type="image/png" href="/images/cabin.png"><link href="/styles/main.css" rel="stylesheet"><title>How to: Import new students into showtime (annual update) </title><meta name="description" content="yearly update to add new students to showtime database"></head><body><nav><h1 class="name"><a href="/" class="logo-ual"></a><a href="/">artslondondev</a></h1><div class="menu icon-menu"></div><ul class="nav-links"><li class="text-link"><a href="/about.html">about</a></li><li class="text-link"><a href="/projects.html">projects</a></li><li class="text-link"><a href="/archives.html">How to ...</a></li></ul><div class="social-media"><a href="https://github.com/artslondon" class="icon-github"></a><a href="https://twitter.com/artslondondev " class="icon-twitter"></a></div></nav><div class="content"><div class="post-head group"><a href="/posts/how-to-import-new-students-into-showtime-annual-update/"><h1 class="post-title">How to: Import new students into showtime (annual update) </h1></a><span class="post-date">2014 &#183; 7 &#183; 2</span></div><div class="post-body markdown"><h1><a name="import-records-into-showtime-db" class="anchor" href="#import-records-into-showtime-db"><span class="header-link"></span></a>Import records into Showtime db</h1>
<h2><a name="part-1-data-preparation-and-local-testing" class="anchor" href="#part-1-data-preparation-and-local-testing"><span class="header-link"></span></a>Part 1: Data preparation and local testing</h2>
<ul>
<li>Acquire new year cohort from Stephen Petty in Academic Registry</li>
<li>Save excel file as .csv format</li>
<li>Check the file in a text editor to see that it has column headings and that each row starts a new line</li>
<li>Test the import script locally at /admin/import</li>
<li>Extract the column headings and the first line into a separate file, to be used for testing</li>
<li>If your import script is &gt; 1500 lines, split it into separate files e.g. import01.csv, import02.csv</li>
</ul>
<h2><a name="part-2-prepare-the-live-environment" class="anchor" href="#part-2-prepare-the-live-environment"><span class="header-link"></span></a>Part 2: Prepare the live environment</h2>
<ul>
<li>Advise IT (Phil Haines, Gerry Hickman) that you are planning to import data into the Showtime db</li>
<li>Put up a warning notice on Showtime (use the default and admin layout views) at least half a day in advance</li>
<li>Log in to Showtime using an admin user account and navigate to showtime.arts.ac.uk/admin/import</li>
<li>Modify app/config/routes.php, commenting out the entire file except a) the ‘Maintenance / downtime’ route at the bottom and b) the two ‘admin’ route lines, so that you can run the importer</li>
<li>Deploy routes.php to put the site into maintenance mode</li>
<li>Log in to PHPMyAdmin for the arts_uploader database (for logins see Website General &gt; Writeboards)</li>
<li>Export/backup the complete arts_uploader db in case things go wrong</li>
</ul>
<h2><a name="part-3-run-the-importer" class="anchor" href="#part-3-run-the-importer"><span class="header-link"></span></a>Part 3: Run the importer</h2>
<ul>
<li>Start by running your 1-line test .csv file in preview mode, then try it in import mode</li>
<li>Check that the enrolment ID you imported has been inserted into the database</li>
<li>Import each of your csv files in turn until complete</li>
</ul>
<h2><a name="note-importer-options" class="anchor" href="#note-importer-options"><span class="header-link"></span></a>Note: Importer options</h2>
<p>When running the import for the 2013 cohort, I checked ‘Create new courses’ and ‘Update profiles’ and ‘Update active accounts’ (and all its sub-options). This means that students with existing accounts who have graduated and enrolled on a different course, potentially at a different college, will have their details updated without being told in advance.</p>
<p>While there might be a few cases where students don’t want existing work (from an older course) to be associated with a new course, on balance it’s better to reduce day-to-day Showtime admin where students request their college or graduation year to be updated.</p>
</div><!-- Social sharing icons--><div class="social"><a href="https://twitter.com/share" class="twitter-share-button">Tweet</a><div data-size="medium" data-annotation="bubble" data-width="300" class="g-plusone"></div><a href="http://news.ycombinator.com/submit" class="hn-share-button">Vote on HN</a></div><!-- Disqus comments, Make sure to replace `colinwren` with your account name in the Disqus helper script below--><div id="comments"><div id="disqus_thread"></div></div><!-- Helper scripts for social share icons--><!-- Hacker News--><script type="text/javascript">(function(d, t) {
  var g = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
  g.src = '//hnbutton.appspot.com/static/hn.min.js';
  s.parentNode.insertBefore(g, s);
}(document, 'script'));
</script><!-- Twitter--><script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
</script><!-- Google Plus--><script type="text/javascript">(function() {
  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
  po.src = 'https://apis.google.com/js/plusone.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
})();
</script><!-- Disqus--><script type="text/javascript">var disqus_shortname = 'artslondon'; // Change this to your Disqus account name

(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script></div><script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js" type="text/javascript"></script><script src="/scripts/main.js" type="text/javascript"></script><script>// Add your analytics code here</script></body></html>